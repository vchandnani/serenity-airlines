(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35305,(e,t,n)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},61227,(e,t,n)=>{"use strict";var r=e.r(35305);function a(){}function o(){}o.resetWarningCache=a,t.exports=function(){function e(e,t,n,a,o,s){if(s!==r){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},4153,(e,t,n)=>{t.exports=e.r(61227)()},95218,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={callServer:function(){return o.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}};for(var a in r)Object.defineProperty(n,a,{enumerable:!0,get:r[a]});let o=e.r(13569),s=e.r(52911),i=e.r(19141)},7609,e=>{"use strict";var t,n=e.i(94313),r=e.i(68340),a=e.i(70065),o=e.i(49154),s="horizontal",i=["horizontal","vertical"],l=r.forwardRef((e,t)=>{var r;let{decorative:a,orientation:l=s,...c}=e,u=(r=l,i.includes(r))?l:s;return(0,n.jsx)(o.Primitive.div,{"data-orientation":u,...a?{role:"none"}:{"aria-orientation":"vertical"===u?u:void 0,role:"separator"},...c,ref:t})});l.displayName="Separator";var c=e.i(47163);function u({className:e,orientation:t="horizontal",decorative:r=!0,...a}){return(0,n.jsx)(l,{"data-slot":"separator",decorative:r,orientation:t,className:(0,c.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}var d=e.i(8540),f=e.i(5838),p=e.i(17348),m=e.i(10965);let h=(0,m.default)("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);function v({flight:e,selectedSeat:t,seatClass:r,price:o}){let s=(0,d.calculateDuration)(e.departure_time,e.arrival_time);return(0,n.jsxs)(a.Card,{className:"sticky top-4",children:[(0,n.jsx)(a.CardHeader,{children:(0,n.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,n.jsx)(p.Plane,{className:"h-5 w-5"}),"Booking Summary"]})}),(0,n.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Flight Number"}),(0,n.jsx)("p",{className:"font-semibold",children:e.flight_number})]}),(0,n.jsx)(u,{}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"From"}),(0,n.jsx)("p",{className:"font-semibold",children:e.origin}),(0,n.jsx)("p",{className:"text-sm",children:(0,d.formatDateTime)(e.departure_time)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"To"}),(0,n.jsx)("p",{className:"font-semibold",children:e.destination}),(0,n.jsx)("p",{className:"text-sm",children:(0,d.formatDateTime)(e.arrival_time)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Duration"}),(0,n.jsx)("p",{className:"font-semibold",children:s})]})]}),(0,n.jsx)(u,{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Class"}),(0,n.jsx)("p",{className:"font-semibold capitalize",children:r})]}),t&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(h,{className:"h-4 w-4 text-muted-foreground"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Selected Seat"}),(0,n.jsx)("p",{className:"font-semibold text-lg",children:t})]})]})}),(0,n.jsx)(u,{}),(0,n.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Total Amount"}),(0,n.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:(0,f.formatPrice)(o)})]})})]})]})}var b=e.i(67881),g=e.i(91967),x=e.i(80711),y=e.i(40674),j=e.i(81003),C=e.i(38738),w=e.i(48862),N=e.i(40556),S=e.i(67558),E=e.i(11100),k="rovingFocusGroup.onEntryFocus",P={bubbles:!1,cancelable:!0},O="RovingFocusGroup",[R,A,T]=(0,y.createCollection)(O),[I,_]=(0,x.createContextScope)(O,[T]),[D,F]=I(O),L=r.forwardRef((e,t)=>(0,n.jsx)(R.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,n.jsx)(R.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,n.jsx)(M,{...e,ref:t})})}));L.displayName=O;var M=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:o,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=e,m=r.useRef(null),h=(0,j.useComposedRefs)(t,m),v=(0,E.useDirection)(i),[b,x]=(0,S.useControllableState)({prop:l,defaultProp:c??null,onChange:u,caller:O}),[y,C]=r.useState(!1),R=(0,N.useCallbackRef)(d),T=A(a),I=r.useRef(!1),[_,F]=r.useState(0);return r.useEffect(()=>{let e=m.current;if(e)return e.addEventListener(k,R),()=>e.removeEventListener(k,R)},[R]),(0,n.jsx)(D,{scope:a,orientation:o,dir:v,loop:s,currentTabStopId:b,onItemFocus:r.useCallback(e=>x(e),[x]),onItemShiftTab:r.useCallback(()=>C(!0),[]),onFocusableItemAdd:r.useCallback(()=>F(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>F(e=>e-1),[]),children:(0,n.jsx)(w.Primitive.div,{tabIndex:y||0===_?-1:0,"data-orientation":o,...p,ref:h,style:{outline:"none",...e.style},onMouseDown:(0,g.composeEventHandlers)(e.onMouseDown,()=>{I.current=!0}),onFocus:(0,g.composeEventHandlers)(e.onFocus,e=>{let t=!I.current;if(e.target===e.currentTarget&&t&&!y){let t=new CustomEvent(k,P);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=T().filter(e=>e.focusable);Y([e.find(e=>e.active),e.find(e=>e.id===b),...e].filter(Boolean).map(e=>e.ref.current),f)}}I.current=!1}),onBlur:(0,g.composeEventHandlers)(e.onBlur,()=>C(!1))})})}),U="RovingFocusGroupItem",B=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:o=!0,active:s=!1,tabStopId:i,children:l,...c}=e,u=(0,C.useId)(),d=i||u,f=F(U,a),p=f.currentTabStopId===d,m=A(a),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:b}=f;return r.useEffect(()=>{if(o)return h(),()=>v()},[o,h,v]),(0,n.jsx)(R.ItemSlot,{scope:a,id:d,focusable:o,active:s,children:(0,n.jsx)(w.Primitive.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:(0,g.composeEventHandlers)(e.onMouseDown,e=>{o?f.onItemFocus(d):e.preventDefault()}),onFocus:(0,g.composeEventHandlers)(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:(0,g.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,n){var r;let a=(r=e.key,"rtl"!==n?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return H[a]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){var n,r;"prev"===t&&a.reverse();let o=a.indexOf(e.currentTarget);a=f.loop?(n=a,r=o+1,n.map((e,t)=>n[(r+t)%n.length])):a.slice(o+1)}setTimeout(()=>Y(a))}}),children:"function"==typeof l?l({isCurrentTabStop:p,hasTabStop:null!=b}):l})})});B.displayName=U;var H={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y(e,t=!1){let n=document.activeElement;for(let r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}var z=e.i(40787),K=e=>{var t;let n,a,{present:o,children:s}=e,i=function(e){var t,n;let[a,o]=r.useState(),s=r.useRef(null),i=r.useRef(e),l=r.useRef("none"),[c,u]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>n[e][t]??e,t));return r.useEffect(()=>{let e=W(s.current);l.current="mounted"===c?e:"none"},[c]),(0,z.useLayoutEffect)(()=>{let t=s.current,n=i.current;if(n!==e){let r=l.current,a=W(t);e?u("MOUNT"):"none"===a||t?.display==="none"?u("UNMOUNT"):n&&r!==a?u("ANIMATION_OUT"):u("UNMOUNT"),i.current=e}},[e,u]),(0,z.useLayoutEffect)(()=>{if(a){let e,t=a.ownerDocument.defaultView??window,n=n=>{let r=W(s.current).includes(CSS.escape(n.animationName));if(n.target===a&&r&&(u("ANIMATION_END"),!i.current)){let n=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=n)})}},r=e=>{e.target===a&&(l.current=W(s.current))};return a.addEventListener("animationstart",r),a.addEventListener("animationcancel",n),a.addEventListener("animationend",n),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",r),a.removeEventListener("animationcancel",n),a.removeEventListener("animationend",n)}}u("ANIMATION_END")},[a,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback(e=>{s.current=e?getComputedStyle(e):null,o(e)},[])}}(o),l="function"==typeof s?s({present:i.isPresent}):r.Children.only(s),c=(0,j.useComposedRefs)(i.ref,(t=l,(a=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(a=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof s||i.isPresent?r.cloneElement(l,{ref:c}):null};function W(e){return e?.animationName||"none"}K.displayName="Presence";var $="Tabs",[q,V]=(0,x.createContextScope)($,[_]),G=_(),[J,X]=q($),Q=r.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,onValueChange:o,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=(0,E.useDirection)(l),[f,p]=(0,S.useControllableState)({prop:a,onChange:o,defaultProp:s??"",caller:$});return(0,n.jsx)(J,{scope:r,baseId:(0,C.useId)(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c,children:(0,n.jsx)(w.Primitive.div,{dir:d,"data-orientation":i,...u,ref:t})})});Q.displayName=$;var Z="TabsList",ee=r.forwardRef((e,t)=>{let{__scopeTabs:r,loop:a=!0,...o}=e,s=X(Z,r),i=G(r);return(0,n.jsx)(L,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:a,children:(0,n.jsx)(w.Primitive.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});ee.displayName=Z;var et="TabsTrigger",en=r.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,disabled:o=!1,...s}=e,i=X(et,r),l=G(r),c=eo(i.baseId,a),u=es(i.baseId,a),d=a===i.value;return(0,n.jsx)(B,{asChild:!0,...l,focusable:!o,active:d,children:(0,n.jsx)(w.Primitive.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...s,ref:t,onMouseDown:(0,g.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(a)}),onKeyDown:(0,g.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(a)}),onFocus:(0,g.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==i.activationMode;d||o||!e||i.onValueChange(a)})})})});en.displayName=et;var er="TabsContent",ea=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:o,forceMount:s,children:i,...l}=e,c=X(er,a),u=eo(c.baseId,o),d=es(c.baseId,o),f=o===c.value,p=r.useRef(f);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,n.jsx)(K,{present:s||f,children:({present:r})=>(0,n.jsx)(w.Primitive.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:d,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:r&&i})})});function eo(e,t){return`${e}-trigger-${t}`}function es(e,t){return`${e}-content-${t}`}function ei({className:e,...t}){return(0,n.jsx)(Q,{"data-slot":"tabs",className:(0,c.cn)("flex flex-col gap-2",e),...t})}function el({className:e,...t}){return(0,n.jsx)(ee,{"data-slot":"tabs-list",className:(0,c.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function ec({className:e,...t}){return(0,n.jsx)(en,{"data-slot":"tabs-trigger",className:(0,c.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function eu({className:e,...t}){return(0,n.jsx)(ea,{"data-slot":"tabs-content",className:(0,c.cn)("flex-1 outline-none",e),...t})}function ed({flight:e,seats:t,selectedSeat:r,onSeatSelect:o,seatClass:s,onClassChange:i,onContinue:l}){let u=t.filter(e=>"business"===e.seat_class),d=t.filter(e=>"economy"===e.seat_class),f=(e,t)=>{let a=[...new Set(e.map(e=>e.seat_number.replace(/[A-F]/,"")))];return(0,n.jsx)("div",{className:"space-y-1",children:a.map(a=>{let s=t.map(t=>{let n=`${a}${t}`;return e.find(e=>e.seat_number===n)});return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-muted-foreground w-8",children:a}),(0,n.jsx)("div",{className:"flex gap-2",children:s.map((e,t)=>2===t?(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("div",{className:"w-8"}),e&&(0,n.jsx)("button",{onClick:()=>e.is_available&&o(e.seat_number),disabled:!e.is_available,className:(0,c.cn)("w-10 h-10 rounded-lg border-2 font-medium text-sm transition-all",e.is_available?r===e.seat_number?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400 bg-white":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"),children:e.seat_number.slice(-1)})]},`aisle-${a}-${t}`):e?(0,n.jsx)("button",{onClick:()=>e.is_available&&o(e.seat_number),disabled:!e.is_available,className:(0,c.cn)("w-10 h-10 rounded-lg border-2 font-medium text-sm transition-all",e.is_available?r===e.seat_number?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400 bg-white":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"),children:e.seat_number.slice(-1)},e.id):(0,n.jsx)("div",{className:"w-10"},`empty-${a}-${t}`))})]},a)})})};return(0,n.jsxs)(a.Card,{children:[(0,n.jsx)(a.CardHeader,{children:(0,n.jsx)(a.CardTitle,{children:"Select Your Seat"})}),(0,n.jsxs)(a.CardContent,{children:[(0,n.jsxs)(ei,{value:s,onValueChange:e=>i(e),children:[(0,n.jsxs)(el,{className:"grid w-full grid-cols-2 mb-6 bg-gray-100 data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[(0,n.jsx)(ec,{value:"economy",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Economy Class"}),(0,n.jsx)(ec,{value:"business",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Business Class"})]}),(0,n.jsxs)(eu,{value:"business",className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-6 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded border-2 border-gray-300 bg-white"}),(0,n.jsx)("span",{children:"Available"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded border-2 border-blue-600 bg-blue-600"}),(0,n.jsx)("span",{children:"Selected"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded border-2 border-gray-200 bg-gray-100"}),(0,n.jsx)("span",{children:"Occupied"})]})]}),(0,n.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg",children:[(0,n.jsx)("div",{className:"text-center mb-6",children:(0,n.jsx)("div",{className:"inline-block bg-gradient-to-b from-gray-800 to-gray-600 text-white px-6 py-2 rounded-t-2xl",children:"Business Class"})}),f(u,["A","C","D","F"])]})]}),(0,n.jsxs)(eu,{value:"economy",className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-6 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded border-2 border-gray-300 bg-white"}),(0,n.jsx)("span",{children:"Available"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded border-2 border-blue-600 bg-blue-600"}),(0,n.jsx)("span",{children:"Selected"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded border-2 border-gray-200 bg-gray-100"}),(0,n.jsx)("span",{children:"Occupied"})]})]}),(0,n.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg",children:[(0,n.jsx)("div",{className:"text-center mb-6",children:(0,n.jsx)("div",{className:"inline-block bg-gradient-to-b from-blue-800 to-blue-600 text-white px-6 py-2 rounded-t-2xl",children:"Economy Class"})}),f(d,["A","B","C","D","E","F"])]})]})]}),(0,n.jsx)("div",{className:"mt-6 flex justify-end",children:(0,n.jsx)(b.Button,{size:"lg",disabled:!r,onClick:l,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:"Continue to Passenger Details"})})]})]})}ea.displayName=er;var ef=e.i(23750),ep=e.i(10708),em=e.i(25646),eh=e.i(4153);function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach(function(t){ex(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ex(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ey(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=a){var o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ej(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ej(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eC=function(e,t,n){var a=!!n,o=r.default.useRef(n);r.default.useEffect(function(){o.current=n},[n]),r.default.useEffect(function(){if(!a||!e)return function(){};var n=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,n),function(){e.off(t,n)}},[a,t,e,o])},ew=function(e){var t=r.default.useRef(e);return r.default.useEffect(function(){t.current=e},[e]),t.current},eN=function(e){return null!==e&&"object"===eg(e)},eS="[object Object]",eE=function e(t,n){if(!eN(t)||!eN(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a=Object.prototype.toString.call(t)===eS;if(a!==(Object.prototype.toString.call(n)===eS))return!1;if(!a&&!r)return t===n;var o=Object.keys(t),s=Object.keys(n);if(o.length!==s.length)return!1;for(var i={},l=0;l<o.length;l+=1)i[o[l]]=!0;for(var c=0;c<s.length;c+=1)i[s[c]]=!0;var u=Object.keys(i);return u.length===o.length&&u.every(function(r){return e(t[r],n[r])})},ek="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",eP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ek;if(null===e||eN(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},eO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ek;if(eN(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return eP(e,t)})};var n=eP(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},eR=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),e.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},eA=r.default.createContext(null);eA.displayName="ElementsContext";var eT=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};eh.default.any,eh.default.object,eh.default.func.isRequired;var eI=r.default.createContext(null);eI.displayName="CheckoutContext",eh.default.any,eh.default.shape({clientSecret:eh.default.oneOfType([eh.default.string,eh.default.instanceOf(Promise)]).isRequired,elementsOptions:eh.default.object}).isRequired;var e_=function(e){var t=r.default.useContext(eI),n=r.default.useContext(eA);if(!t)return eT(n,e);if(!n)return t;throw Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."))},eD=["mode"],eF=function(e,t){var n="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),a=t?function(e){e_("mounts <".concat(n,">"));var t=e.id,a=e.className;return r.default.createElement("div",{id:t,className:a})}:function(t){var a,o=t.id,s=t.className,i=t.options,l=void 0===i?{}:i,c=t.onBlur,u=t.onFocus,d=t.onReady,f=t.onChange,p=t.onEscape,m=t.onClick,h=t.onLoadError,v=t.onLoaderStart,b=t.onNetworksChange,g=t.onConfirm,x=t.onCancel,y=t.onShippingAddressChange,j=t.onShippingRateChange,C=t.onSavedPaymentMethodRemove,w=t.onSavedPaymentMethodUpdate,N=e_("mounts <".concat(n,">")),S="elements"in N?N.elements:null,E="checkoutState"in N?N.checkoutState:null,k=(null==E?void 0:E.type)==="success"||(null==E?void 0:E.type)==="loading"?E.sdk:null,P=ey(r.default.useState(null),2),O=P[0],R=P[1],A=r.default.useRef(null),T=r.default.useRef(null);eC(O,"blur",c),eC(O,"focus",u),eC(O,"escape",p),eC(O,"click",m),eC(O,"loaderror",h),eC(O,"loaderstart",v),eC(O,"networkschange",b),eC(O,"confirm",g),eC(O,"cancel",x),eC(O,"shippingaddresschange",y),eC(O,"shippingratechange",j),eC(O,"savedpaymentmethodremove",C),eC(O,"savedpaymentmethodupdate",w),eC(O,"change",f),d&&(a="expressCheckout"===e?d:function(){d(O)}),eC(O,"ready",a),r.default.useLayoutEffect(function(){if(null===A.current&&null!==T.current&&(S||k)){var t=null;if(k)switch(e){case"paymentForm":t=k.createPaymentFormElement();break;case"payment":t=k.createPaymentElement(l);break;case"address":if("mode"in l){var r=l.mode,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(l,eD);if("shipping"===r)t=k.createShippingAddressElement(a);else if("billing"===r)t=k.createBillingAddressElement(a);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":t=k.createExpressCheckoutElement(l);break;case"currencySelector":t=k.createCurrencySelectorElement();break;case"taxId":t=k.createTaxIdElement(l);break;default:throw Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else S&&(t=S.create(e,l));A.current=t,R(t),t&&t.mount(T.current)}},[S,k,l]);var I=ew(l);return r.default.useEffect(function(){if(A.current){var e,t,n,r=(e=l,t=I,n=["paymentRequest"],eN(e)?Object.keys(e).reduce(function(r,a){var o=!eN(t)||!eE(e[a],t[a]);return n.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),r):o?eb(eb({},r||{}),{},ex({},a,e[a])):r},null):null);r&&"update"in A.current&&A.current.update(r)}},[l,I]),r.default.useLayoutEffect(function(){return function(){if(A.current&&"function"==typeof A.current.destroy)try{A.current.destroy(),A.current=null}catch(e){}}},[]),r.default.createElement("div",{id:o,className:s,ref:T})};return a.propTypes={id:eh.default.string,className:eh.default.string,onChange:eh.default.func,onBlur:eh.default.func,onFocus:eh.default.func,onReady:eh.default.func,onEscape:eh.default.func,onClick:eh.default.func,onLoadError:eh.default.func,onLoaderStart:eh.default.func,onNetworksChange:eh.default.func,onConfirm:eh.default.func,onCancel:eh.default.func,onShippingAddressChange:eh.default.func,onShippingRateChange:eh.default.func,onSavedPaymentMethodRemove:eh.default.func,onSavedPaymentMethodUpdate:eh.default.func,options:eh.default.object},a.displayName=n,a.__elementType=e,a},eL="undefined"==typeof window,eM=r.default.createContext(null);eM.displayName="EmbeddedCheckoutProviderContext";var eU=function(){var e=r.default.useContext(eM);if(!e)throw Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},eB=function(e){var t=e.stripe,n=e.options,a=e.children,o=r.default.useMemo(function(){return eO(t,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[t]),s=r.default.useRef(null),i=r.default.useRef(null),l=ey(r.default.useState({embeddedCheckout:null}),2),c=l[0],u=l[1];r.default.useEffect(function(){if(!i.current&&!s.current){var e=function(e){i.current||s.current||(i.current=e,s.current=i.current.initEmbeddedCheckout(n).then(function(e){u({embeddedCheckout:e})}))};"async"===o.tag&&!i.current&&(n.clientSecret||n.fetchClientSecret)?o.stripePromise.then(function(t){t&&e(t)}):"sync"===o.tag&&!i.current&&(n.clientSecret||n.fetchClientSecret)&&e(o.stripe)}},[o,n,c,i]),r.default.useEffect(function(){return function(){c.embeddedCheckout?(s.current=null,c.embeddedCheckout.destroy()):s.current&&s.current.then(function(){s.current=null,c.embeddedCheckout&&c.embeddedCheckout.destroy()})}},[c.embeddedCheckout]),r.default.useEffect(function(){eR(i)},[i]);var d=ew(t);r.default.useEffect(function(){null!==d&&d!==t&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[d,t]);var f=ew(n);return r.default.useEffect(function(){if(null!=f){if(null==n)return void console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");void 0===n.clientSecret&&void 0===n.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=f.clientSecret&&n.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.fetchClientSecret&&n.fetchClientSecret!==f.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&n.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=f.onShippingDetailsChange&&n.onShippingDetailsChange!==f.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=f.onLineItemsChange&&n.onLineItemsChange!==f.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[f,n]),r.default.createElement(eM.Provider,{value:c},a)},eH=eL?function(e){var t=e.id,n=e.className;return eU(),r.default.createElement("div",{id:t,className:n})}:function(e){var t=e.id,n=e.className,a=eU().embeddedCheckout,o=r.default.useRef(!1),s=r.default.useRef(null);return r.default.useLayoutEffect(function(){return!o.current&&a&&null!==s.current&&(a.mount(s.current),o.current=!0),function(){if(o.current&&a)try{a.unmount(),o.current=!1}catch(e){}}},[a]),r.default.createElement("div",{ref:s,id:t,className:n})};eF("auBankAccount",eL),eF("card",eL),eF("cardNumber",eL),eF("cardExpiry",eL),eF("cardCvc",eL),eF("iban",eL),eF("payment",eL),eF("expressCheckout",eL),eF("paymentRequestButton",eL),eF("linkAuthentication",eL),eF("address",eL),eF("shippingAddress",eL),eF("paymentMethodMessaging",eL),eF("taxId",eL);var eY="clover",ez="https://js.stripe.com",eK="".concat(ez,"/").concat(eY,"/stripe.js"),eW=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,e$=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,eq=function(){for(var e=document.querySelectorAll('script[src^="'.concat(ez,'"]')),t=0;t<e.length;t++){var n,r=e[t];if(n=r.src,eW.test(n)||e$.test(n))return r}return null},eV=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(eK).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},eG=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:t})},eJ=null,eX=null,eQ=null,eZ=function(e,t,n){if(null===e)return null;var r,a=t[0].match(/^pk_test/),o=3===(r=e.version)?"v3":r;a&&o!==eY&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(eY,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return eG(s,n),s},e0=!1,e1=function(){return t?t:t=(null!==eJ?eJ:(eJ=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var n,r=eq();r?r&&null!==eQ&&null!==eX&&(r.removeEventListener("load",eQ),r.removeEventListener("error",eX),null==(n=r.parentNode)||n.removeChild(r),r=eV(null)):r=eV(null),eQ=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},eX=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},r.addEventListener("load",eQ),r.addEventListener("error",eX)}catch(e){t(e);return}})).catch(function(e){return eJ=null,Promise.reject(e)})).catch(function(e){return t=null,Promise.reject(e)})};Promise.resolve().then(function(){return e1()}).catch(function(e){e0||console.warn(e)});var e2=e.i(95218),e6=(0,e2.createServerReference)("400d274fe3ffead251219883ea41a5e76531030318",e2.callServer,void 0,e2.findSourceMapURL,"startCheckoutSession"),e4=e.i(1244);let e5=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e0=!0;var r=Date.now();return e1().then(function(e){return eZ(e,t,r)})}(em.default.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);function e3({flightId:e,seatNumber:t,seatClass:a,passengerName:o,passengerEmail:s,price:i}){let l=(0,e4.useRouter)(),c=(0,r.useCallback)(async()=>(await e6({flightId:e,seatNumber:t,seatClass:a,passengerName:o,passengerEmail:s,price:i})).clientSecret,[e,t,a,o,s,i]);return(0,n.jsx)("div",{id:"checkout",children:(0,n.jsx)(eB,{stripe:e5,options:{fetchClientSecret:c,onComplete:()=>{l.push("/booking-success")}},children:(0,n.jsx)(eH,{})})})}let e8=(0,m.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),e7=(0,m.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),e9=(0,m.default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function te({flight:e,selectedSeat:t,seatClass:o,price:s,onBack:i}){let[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1);return f?(0,n.jsxs)(a.Card,{children:[(0,n.jsx)(a.CardHeader,{children:(0,n.jsx)(a.CardTitle,{children:"Complete Payment"})}),(0,n.jsx)(a.CardContent,{children:(0,n.jsx)(e3,{flightId:e.id,seatNumber:t,seatClass:o,passengerName:l,passengerEmail:u,price:s})})]}):(0,n.jsxs)(a.Card,{children:[(0,n.jsx)(a.CardHeader,{children:(0,n.jsx)(a.CardTitle,{children:"Passenger Details"})}),(0,n.jsx)(a.CardContent,{children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p(!0)},className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)(ep.Label,{htmlFor:"name",className:"flex items-center gap-2",children:[(0,n.jsx)(e8,{className:"h-4 w-4"}),"Full Name"]}),(0,n.jsx)(ef.Input,{id:"name",type:"text",placeholder:"John Doe",value:l,onChange:e=>c(e.target.value),required:!0}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"As shown on passport or government ID"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)(ep.Label,{htmlFor:"email",className:"flex items-center gap-2",children:[(0,n.jsx)(e7,{className:"h-4 w-4"}),"Email Address"]}),(0,n.jsx)(ef.Input,{id:"email",type:"email",placeholder:"john@example.com",value:u,onChange:e=>d(e.target.value),required:!0}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Booking confirmation will be sent to this email"})]})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)(b.Button,{type:"button",variant:"outline",onClick:i,className:"flex-1 bg-transparent",children:[(0,n.jsx)(e9,{className:"h-4 w-4 mr-2"}),"Back to Seat Selection"]}),(0,n.jsx)(b.Button,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:"Proceed to Payment"})]})]})})]})}var tt=e.i(53462);function tn({flight:e,seats:t,initialClass:a}){let[o,s]=(0,r.useState)(null),[i,l]=(0,r.useState)(a),[c,u]=(0,r.useState)("seat"),d="economy"===i?e.base_price_economy:e.base_price_business;return(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)(tt.default,{href:"/",children:(0,n.jsxs)(b.Button,{variant:"ghost",className:"mb-6",children:[(0,n.jsx)(e9,{className:"h-4 w-4 mr-2"}),"Back to Flights"]})}),(0,n.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,n.jsx)("div",{className:"lg:col-span-2",children:"seat"===c?(0,n.jsx)(ed,{flight:e,seats:t,selectedSeat:o,onSeatSelect:s,seatClass:i,onClassChange:l,onContinue:()=>u("passenger")}):(0,n.jsx)(te,{flight:e,selectedSeat:o,seatClass:i,price:d,onBack:()=>u("seat")})}),(0,n.jsx)("div",{className:"lg:col-span-1",children:(0,n.jsx)(v,{flight:e,selectedSeat:o,seatClass:i,price:d})})]})]})}e.s(["BookingFlow",()=>tn],7609)}]);