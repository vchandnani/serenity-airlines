module.exports=[88785,(a,b,c)=>{"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},26781,(a,b,c)=>{"use strict";var d=a.r(88785);function e(){}function f(){}f.resetWarningCache=e,b.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},5783,(a,b,c)=>{b.exports=a.r(26781)()},68655,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(66103),g=a.r(99729),h=a.r(69059)},63985,a=>{"use strict";var b,c=a.i(2488),d=a.i(25767),e=a.i(3130),f=a.i(42359),g="horizontal",h=["horizontal","vertical"],i=d.forwardRef((a,b)=>{var d;let{decorative:e,orientation:i=g,...j}=a,k=(d=i,h.includes(d))?i:g;return(0,c.jsx)(f.Primitive.div,{"data-orientation":k,...e?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...j,ref:b})});i.displayName="Separator";var j=a.i(97895);function k({className:a,orientation:b="horizontal",decorative:d=!0,...e}){return(0,c.jsx)(i,{"data-slot":"separator",decorative:d,orientation:b,className:(0,j.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}var l=a.i(47694),m=a.i(9583),n=a.i(43825),o=a.i(61237);let p=(0,o.default)("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);function q({flight:a,selectedSeat:b,seatClass:d,price:f}){let g=(0,l.calculateDuration)(a.departure_time,a.arrival_time);return(0,c.jsxs)(e.Card,{className:"sticky top-4",children:[(0,c.jsx)(e.CardHeader,{children:(0,c.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,c.jsx)(n.Plane,{className:"h-5 w-5"}),"Booking Summary"]})}),(0,c.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Flight Number"}),(0,c.jsx)("p",{className:"font-semibold",children:a.flight_number})]}),(0,c.jsx)(k,{}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"From"}),(0,c.jsx)("p",{className:"font-semibold",children:a.origin}),(0,c.jsx)("p",{className:"text-sm",children:(0,l.formatDateTime)(a.departure_time)})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"To"}),(0,c.jsx)("p",{className:"font-semibold",children:a.destination}),(0,c.jsx)("p",{className:"text-sm",children:(0,l.formatDateTime)(a.arrival_time)})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Duration"}),(0,c.jsx)("p",{className:"font-semibold",children:g})]})]}),(0,c.jsx)(k,{}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Class"}),(0,c.jsx)("p",{className:"font-semibold capitalize",children:d})]}),b&&(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(p,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Selected Seat"}),(0,c.jsx)("p",{className:"font-semibold text-lg",children:b})]})]})}),(0,c.jsx)(k,{}),(0,c.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{className:"font-semibold",children:"Total Amount"}),(0,c.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:(0,m.formatPrice)(f)})]})})]})]})}var r=a.i(40695),s=a.i(59653),t=a.i(48722),u=a.i(43537),v=a.i(73339),w=a.i(5263),x=a.i(11883),y=a.i(61833),z=a.i(90494),A=a.i(9115),B="rovingFocusGroup.onEntryFocus",C={bubbles:!1,cancelable:!0},D="RovingFocusGroup",[E,F,G]=(0,u.createCollection)(D),[H,I]=(0,t.createContextScope)(D,[G]),[J,K]=H(D),L=d.forwardRef((a,b)=>(0,c.jsx)(E.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,c.jsx)(E.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,c.jsx)(M,{...a,ref:b})})}));L.displayName=D;var M=d.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:e,orientation:f,loop:g=!1,dir:h,currentTabStopId:i,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:l,preventScrollOnEntryFocus:m=!1,...n}=a,o=d.useRef(null),p=(0,v.useComposedRefs)(b,o),q=(0,A.useDirection)(h),[r,t]=(0,z.useControllableState)({prop:i,defaultProp:j??null,onChange:k,caller:D}),[u,w]=d.useState(!1),E=(0,y.useCallbackRef)(l),G=F(e),H=d.useRef(!1),[I,K]=d.useState(0);return d.useEffect(()=>{let a=o.current;if(a)return a.addEventListener(B,E),()=>a.removeEventListener(B,E)},[E]),(0,c.jsx)(J,{scope:e,orientation:f,dir:q,loop:g,currentTabStopId:r,onItemFocus:d.useCallback(a=>t(a),[t]),onItemShiftTab:d.useCallback(()=>w(!0),[]),onFocusableItemAdd:d.useCallback(()=>K(a=>a+1),[]),onFocusableItemRemove:d.useCallback(()=>K(a=>a-1),[]),children:(0,c.jsx)(x.Primitive.div,{tabIndex:u||0===I?-1:0,"data-orientation":f,...n,ref:p,style:{outline:"none",...a.style},onMouseDown:(0,s.composeEventHandlers)(a.onMouseDown,()=>{H.current=!0}),onFocus:(0,s.composeEventHandlers)(a.onFocus,a=>{let b=!H.current;if(a.target===a.currentTarget&&b&&!u){let b=new CustomEvent(B,C);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=G().filter(a=>a.focusable);Q([a.find(a=>a.active),a.find(a=>a.id===r),...a].filter(Boolean).map(a=>a.ref.current),m)}}H.current=!1}),onBlur:(0,s.composeEventHandlers)(a.onBlur,()=>w(!1))})})}),N="RovingFocusGroupItem",O=d.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:e,focusable:f=!0,active:g=!1,tabStopId:h,children:i,...j}=a,k=(0,w.useId)(),l=h||k,m=K(N,e),n=m.currentTabStopId===l,o=F(e),{onFocusableItemAdd:p,onFocusableItemRemove:q,currentTabStopId:r}=m;return d.useEffect(()=>{if(f)return p(),()=>q()},[f,p,q]),(0,c.jsx)(E.ItemSlot,{scope:e,id:l,focusable:f,active:g,children:(0,c.jsx)(x.Primitive.span,{tabIndex:n?0:-1,"data-orientation":m.orientation,...j,ref:b,onMouseDown:(0,s.composeEventHandlers)(a.onMouseDown,a=>{f?m.onItemFocus(l):a.preventDefault()}),onFocus:(0,s.composeEventHandlers)(a.onFocus,()=>m.onItemFocus(l)),onKeyDown:(0,s.composeEventHandlers)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void m.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return P[e]}(a,m.orientation,m.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=o().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=m.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>Q(e))}}),children:"function"==typeof i?i({isCurrentTabStop:n,hasTabStop:null!=r}):i})})});O.displayName=N;var P={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}var R=a.i(50973),S=a=>{var b;let c,e,{present:f,children:g}=a,h=function(a){var b,c;let[e,f]=d.useState(),g=d.useRef(null),h=d.useRef(a),i=d.useRef("none"),[j,k]=(b=a?"mounted":"unmounted",c={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},d.useReducer((a,b)=>c[a][b]??a,b));return d.useEffect(()=>{let a=T(g.current);i.current="mounted"===j?a:"none"},[j]),(0,R.useLayoutEffect)(()=>{let b=g.current,c=h.current;if(c!==a){let d=i.current,e=T(b);a?k("MOUNT"):"none"===e||b?.display==="none"?k("UNMOUNT"):c&&d!==e?k("ANIMATION_OUT"):k("UNMOUNT"),h.current=a}},[a,k]),(0,R.useLayoutEffect)(()=>{if(e){let a,b=e.ownerDocument.defaultView??window,c=c=>{let d=T(g.current).includes(CSS.escape(c.animationName));if(c.target===e&&d&&(k("ANIMATION_END"),!h.current)){let c=e.style.animationFillMode;e.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===e.style.animationFillMode&&(e.style.animationFillMode=c)})}},d=a=>{a.target===e&&(i.current=T(g.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{b.clearTimeout(a),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}k("ANIMATION_END")},[e,k]),{isPresent:["mounted","unmountSuspended"].includes(j),ref:d.useCallback(a=>{g.current=a?getComputedStyle(a):null,f(a)},[])}}(f),i="function"==typeof g?g({present:h.isPresent}):d.Children.only(g),j=(0,v.useComposedRefs)(h.ref,(b=i,(e=(c=Object.getOwnPropertyDescriptor(b.props,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.ref:(e=(c=Object.getOwnPropertyDescriptor(b,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.props.ref:b.props.ref||b.ref));return"function"==typeof g||h.isPresent?d.cloneElement(i,{ref:j}):null};function T(a){return a?.animationName||"none"}S.displayName="Presence";var U="Tabs",[V,W]=(0,t.createContextScope)(U,[I]),X=I(),[Y,Z]=V(U),$=d.forwardRef((a,b)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:h="horizontal",dir:i,activationMode:j="automatic",...k}=a,l=(0,A.useDirection)(i),[m,n]=(0,z.useControllableState)({prop:e,onChange:f,defaultProp:g??"",caller:U});return(0,c.jsx)(Y,{scope:d,baseId:(0,w.useId)(),value:m,onValueChange:n,orientation:h,dir:l,activationMode:j,children:(0,c.jsx)(x.Primitive.div,{dir:l,"data-orientation":h,...k,ref:b})})});$.displayName=U;var _="TabsList",aa=d.forwardRef((a,b)=>{let{__scopeTabs:d,loop:e=!0,...f}=a,g=Z(_,d),h=X(d);return(0,c.jsx)(L,{asChild:!0,...h,orientation:g.orientation,dir:g.dir,loop:e,children:(0,c.jsx)(x.Primitive.div,{role:"tablist","aria-orientation":g.orientation,...f,ref:b})})});aa.displayName=_;var ab="TabsTrigger",ac=d.forwardRef((a,b)=>{let{__scopeTabs:d,value:e,disabled:f=!1,...g}=a,h=Z(ab,d),i=X(d),j=af(h.baseId,e),k=ag(h.baseId,e),l=e===h.value;return(0,c.jsx)(O,{asChild:!0,...i,focusable:!f,active:l,children:(0,c.jsx)(x.Primitive.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":k,"data-state":l?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:j,...g,ref:b,onMouseDown:(0,s.composeEventHandlers)(a.onMouseDown,a=>{f||0!==a.button||!1!==a.ctrlKey?a.preventDefault():h.onValueChange(e)}),onKeyDown:(0,s.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&h.onValueChange(e)}),onFocus:(0,s.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==h.activationMode;l||f||!a||h.onValueChange(e)})})})});ac.displayName=ab;var ad="TabsContent",ae=d.forwardRef((a,b)=>{let{__scopeTabs:e,value:f,forceMount:g,children:h,...i}=a,j=Z(ad,e),k=af(j.baseId,f),l=ag(j.baseId,f),m=f===j.value,n=d.useRef(m);return d.useEffect(()=>{let a=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,c.jsx)(S,{present:g||m,children:({present:d})=>(0,c.jsx)(x.Primitive.div,{"data-state":m?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":k,hidden:!d,id:l,tabIndex:0,...i,ref:b,style:{...a.style,animationDuration:n.current?"0s":void 0},children:d&&h})})});function af(a,b){return`${a}-trigger-${b}`}function ag(a,b){return`${a}-content-${b}`}function ah({className:a,...b}){return(0,c.jsx)($,{"data-slot":"tabs",className:(0,j.cn)("flex flex-col gap-2",a),...b})}function ai({className:a,...b}){return(0,c.jsx)(aa,{"data-slot":"tabs-list",className:(0,j.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...b})}function aj({className:a,...b}){return(0,c.jsx)(ac,{"data-slot":"tabs-trigger",className:(0,j.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...b})}function ak({className:a,...b}){return(0,c.jsx)(ae,{"data-slot":"tabs-content",className:(0,j.cn)("flex-1 outline-none",a),...b})}function al({flight:a,seats:b,selectedSeat:d,onSeatSelect:f,seatClass:g,onClassChange:h,onContinue:i}){let k=b.filter(a=>"business"===a.seat_class),l=b.filter(a=>"economy"===a.seat_class),m=(a,b)=>{let e=[...new Set(a.map(a=>a.seat_number.replace(/[A-F]/,"")))];return(0,c.jsx)("div",{className:"space-y-1",children:e.map(e=>{let g=b.map(b=>{let c=`${e}${b}`;return a.find(a=>a.seat_number===c)});return(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-muted-foreground w-8",children:e}),(0,c.jsx)("div",{className:"flex gap-2",children:g.map((a,b)=>2===b?(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("div",{className:"w-8"}),a&&(0,c.jsx)("button",{onClick:()=>a.is_available&&f(a.seat_number),disabled:!a.is_available,className:(0,j.cn)("w-10 h-10 rounded-lg border-2 font-medium text-sm transition-all",a.is_available?d===a.seat_number?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400 bg-white":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"),children:a.seat_number.slice(-1)})]},`aisle-${e}-${b}`):a?(0,c.jsx)("button",{onClick:()=>a.is_available&&f(a.seat_number),disabled:!a.is_available,className:(0,j.cn)("w-10 h-10 rounded-lg border-2 font-medium text-sm transition-all",a.is_available?d===a.seat_number?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400 bg-white":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"),children:a.seat_number.slice(-1)},a.id):(0,c.jsx)("div",{className:"w-10"},`empty-${e}-${b}`))})]},e)})})};return(0,c.jsxs)(e.Card,{children:[(0,c.jsx)(e.CardHeader,{children:(0,c.jsx)(e.CardTitle,{children:"Select Your Seat"})}),(0,c.jsxs)(e.CardContent,{children:[(0,c.jsxs)(ah,{value:g,onValueChange:a=>h(a),children:[(0,c.jsxs)(ai,{className:"grid w-full grid-cols-2 mb-6 bg-gray-100 data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:[(0,c.jsx)(aj,{value:"economy",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Economy Class"}),(0,c.jsx)(aj,{value:"business",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Business Class"})]}),(0,c.jsxs)(ak,{value:"business",className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-center gap-6 text-sm",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-6 h-6 rounded border-2 border-gray-300 bg-white"}),(0,c.jsx)("span",{children:"Available"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-6 h-6 rounded border-2 border-blue-600 bg-blue-600"}),(0,c.jsx)("span",{children:"Selected"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-6 h-6 rounded border-2 border-gray-200 bg-gray-100"}),(0,c.jsx)("span",{children:"Occupied"})]})]}),(0,c.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg",children:[(0,c.jsx)("div",{className:"text-center mb-6",children:(0,c.jsx)("div",{className:"inline-block bg-gradient-to-b from-gray-800 to-gray-600 text-white px-6 py-2 rounded-t-2xl",children:"Business Class"})}),m(k,["A","C","D","F"])]})]}),(0,c.jsxs)(ak,{value:"economy",className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-center gap-6 text-sm",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-6 h-6 rounded border-2 border-gray-300 bg-white"}),(0,c.jsx)("span",{children:"Available"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-6 h-6 rounded border-2 border-blue-600 bg-blue-600"}),(0,c.jsx)("span",{children:"Selected"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-6 h-6 rounded border-2 border-gray-200 bg-gray-100"}),(0,c.jsx)("span",{children:"Occupied"})]})]}),(0,c.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg",children:[(0,c.jsx)("div",{className:"text-center mb-6",children:(0,c.jsx)("div",{className:"inline-block bg-gradient-to-b from-blue-800 to-blue-600 text-white px-6 py-2 rounded-t-2xl",children:"Economy Class"})}),m(l,["A","B","C","D","E","F"])]})]})]}),(0,c.jsx)("div",{className:"mt-6 flex justify-end",children:(0,c.jsx)(r.Button,{size:"lg",disabled:!d,onClick:i,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:"Continue to Passenger Details"})})]})]})}ae.displayName=ad;var am=a.i(5522),an=a.i(17171),ao=a.i(5783);function ap(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aq(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ap(Object(c),!0).forEach(function(b){as(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ap(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ar(a){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function as(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function at(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=a&&("undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"]);if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(a){h=!0,d=a}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||function(a,b){if(a){if("string"==typeof a)return au(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return au(a,b)}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function au(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var av=function(a,b,c){var e=!!c,f=d.default.useRef(c);d.default.useEffect(function(){f.current=c},[c]),d.default.useEffect(function(){if(!e||!a)return function(){};var c=function(){f.current&&f.current.apply(f,arguments)};return a.on(b,c),function(){a.off(b,c)}},[e,b,a,f])},aw=function(a){var b=d.default.useRef(a);return d.default.useEffect(function(){b.current=a},[a]),b.current},ax=function(a){return null!==a&&"object"===ar(a)},ay="[object Object]",az=function a(b,c){if(!ax(b)||!ax(c))return b===c;var d=Array.isArray(b);if(d!==Array.isArray(c))return!1;var e=Object.prototype.toString.call(b)===ay;if(e!==(Object.prototype.toString.call(c)===ay))return!1;if(!e&&!d)return b===c;var f=Object.keys(b),g=Object.keys(c);if(f.length!==g.length)return!1;for(var h={},i=0;i<f.length;i+=1)h[f[i]]=!0;for(var j=0;j<g.length;j+=1)h[g[j]]=!0;var k=Object.keys(h);return k.length===f.length&&k.every(function(d){return a(b[d],c[d])})},aA="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",aB=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aA;if(null===a||ax(a)&&"function"==typeof a.elements&&"function"==typeof a.createToken&&"function"==typeof a.createPaymentMethod&&"function"==typeof a.confirmCardPayment)return a;throw Error(b)},aC=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aA;if(ax(a)&&"function"==typeof a.then)return{tag:"async",stripePromise:Promise.resolve(a).then(function(a){return aB(a,b)})};var c=aB(a,b);return null===c?{tag:"empty"}:{tag:"sync",stripe:c}},aD=function(a){a&&a._registerWrapper&&a.registerAppInfo&&(a._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),a.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},aE=d.default.createContext(null);aE.displayName="ElementsContext";var aF=function(a,b){if(!a)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(b," in an <Elements> provider."));return a};ao.default.any,ao.default.object,ao.default.func.isRequired;var aG=d.default.createContext(null);aG.displayName="CheckoutContext",ao.default.any,ao.default.shape({clientSecret:ao.default.oneOfType([ao.default.string,ao.default.instanceOf(Promise)]).isRequired,elementsOptions:ao.default.object}).isRequired;var aH=function(a){var b=d.default.useContext(aG),c=d.default.useContext(aE);if(!b)return aF(c,a);if(!c)return b;throw Error("You cannot wrap the part of your app that ".concat(a," in both <CheckoutProvider> and <Elements> providers."))},aI=["mode"],aJ=function(a,b){var c="".concat(a.charAt(0).toUpperCase()+a.slice(1),"Element"),e=b?function(a){aH("mounts <".concat(c,">"));var b=a.id,e=a.className;return d.default.createElement("div",{id:b,className:e})}:function(b){var e,f=b.id,g=b.className,h=b.options,i=void 0===h?{}:h,j=b.onBlur,k=b.onFocus,l=b.onReady,m=b.onChange,n=b.onEscape,o=b.onClick,p=b.onLoadError,q=b.onLoaderStart,r=b.onNetworksChange,s=b.onConfirm,t=b.onCancel,u=b.onShippingAddressChange,v=b.onShippingRateChange,w=b.onSavedPaymentMethodRemove,x=b.onSavedPaymentMethodUpdate,y=aH("mounts <".concat(c,">")),z="elements"in y?y.elements:null,A="checkoutState"in y?y.checkoutState:null,B=(null==A?void 0:A.type)==="success"||(null==A?void 0:A.type)==="loading"?A.sdk:null,C=at(d.default.useState(null),2),D=C[0],E=C[1],F=d.default.useRef(null),G=d.default.useRef(null);av(D,"blur",j),av(D,"focus",k),av(D,"escape",n),av(D,"click",o),av(D,"loaderror",p),av(D,"loaderstart",q),av(D,"networkschange",r),av(D,"confirm",s),av(D,"cancel",t),av(D,"shippingaddresschange",u),av(D,"shippingratechange",v),av(D,"savedpaymentmethodremove",w),av(D,"savedpaymentmethodupdate",x),av(D,"change",m),l&&(e="expressCheckout"===a?l:function(){l(D)}),av(D,"ready",e),d.default.useLayoutEffect(function(){if(null===F.current&&null!==G.current&&(z||B)){var b=null;if(B)switch(a){case"paymentForm":b=B.createPaymentFormElement();break;case"payment":b=B.createPaymentElement(i);break;case"address":if("mode"in i){var d=i.mode,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(i,aI);if("shipping"===d)b=B.createShippingAddressElement(e);else if("billing"===d)b=B.createBillingAddressElement(e);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":b=B.createExpressCheckoutElement(i);break;case"currencySelector":b=B.createCurrencySelectorElement();break;case"taxId":b=B.createTaxIdElement(i);break;default:throw Error("Invalid Element type ".concat(c,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else z&&(b=z.create(a,i));F.current=b,E(b),b&&b.mount(G.current)}},[z,B,i]);var H=aw(i);return d.default.useEffect(function(){if(F.current){var a,b,c,d=(a=i,b=H,c=["paymentRequest"],ax(a)?Object.keys(a).reduce(function(d,e){var f=!ax(b)||!az(a[e],b[e]);return c.includes(e)?(f&&console.warn("Unsupported prop change: options.".concat(e," is not a mutable property.")),d):f?aq(aq({},d||{}),{},as({},e,a[e])):d},null):null);d&&"update"in F.current&&F.current.update(d)}},[i,H]),d.default.useLayoutEffect(function(){return function(){if(F.current&&"function"==typeof F.current.destroy)try{F.current.destroy(),F.current=null}catch(a){}}},[]),d.default.createElement("div",{id:f,className:g,ref:G})};return e.propTypes={id:ao.default.string,className:ao.default.string,onChange:ao.default.func,onBlur:ao.default.func,onFocus:ao.default.func,onReady:ao.default.func,onEscape:ao.default.func,onClick:ao.default.func,onLoadError:ao.default.func,onLoaderStart:ao.default.func,onNetworksChange:ao.default.func,onConfirm:ao.default.func,onCancel:ao.default.func,onShippingAddressChange:ao.default.func,onShippingRateChange:ao.default.func,onSavedPaymentMethodRemove:ao.default.func,onSavedPaymentMethodUpdate:ao.default.func,options:ao.default.object},e.displayName=c,e.__elementType=a,e},aK=d.default.createContext(null);aK.displayName="EmbeddedCheckoutProviderContext";var aL=function(){var a=d.default.useContext(aK);if(!a)throw Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return a},aM=function(a){var b=a.stripe,c=a.options,e=a.children,f=d.default.useMemo(function(){return aC(b,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[b]),g=d.default.useRef(null),h=d.default.useRef(null),i=at(d.default.useState({embeddedCheckout:null}),2),j=i[0],k=i[1];d.default.useEffect(function(){if(!h.current&&!g.current){var a=function(a){h.current||g.current||(h.current=a,g.current=h.current.initEmbeddedCheckout(c).then(function(a){k({embeddedCheckout:a})}))};"async"===f.tag&&!h.current&&(c.clientSecret||c.fetchClientSecret)?f.stripePromise.then(function(b){b&&a(b)}):"sync"===f.tag&&!h.current&&(c.clientSecret||c.fetchClientSecret)&&a(f.stripe)}},[f,c,j,h]),d.default.useEffect(function(){return function(){j.embeddedCheckout?(g.current=null,j.embeddedCheckout.destroy()):g.current&&g.current.then(function(){g.current=null,j.embeddedCheckout&&j.embeddedCheckout.destroy()})}},[j.embeddedCheckout]),d.default.useEffect(function(){aD(h)},[h]);var l=aw(b);d.default.useEffect(function(){null!==l&&l!==b&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[l,b]);var m=aw(c);return d.default.useEffect(function(){if(null!=m){if(null==c)return void console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");void 0===c.clientSecret&&void 0===c.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=m.clientSecret&&c.clientSecret!==m.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=m.fetchClientSecret&&c.fetchClientSecret!==m.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=m.onComplete&&c.onComplete!==m.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=m.onShippingDetailsChange&&c.onShippingDetailsChange!==m.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=m.onLineItemsChange&&c.onLineItemsChange!==m.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[m,c]),d.default.createElement(aK.Provider,{value:j},e)},aN=function(a){var b=a.id,c=a.className;return aL(),d.default.createElement("div",{id:b,className:c})};aJ("auBankAccount",!0),aJ("card",!0),aJ("cardNumber",!0),aJ("cardExpiry",!0),aJ("cardCvc",!0),aJ("iban",!0),aJ("payment",!0),aJ("expressCheckout",!0),aJ("paymentRequestButton",!0),aJ("linkAuthentication",!0),aJ("address",!0),aJ("shippingAddress",!0),aJ("paymentMethodMessaging",!0),aJ("taxId",!0);var aO="clover";"".concat("https://js.stripe.com","/").concat(aO,"/stripe.js");var aP=function(a,b){a&&a._registerWrapper&&a._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:b})},aQ=null,aR=function(a,b,c){if(null===a)return null;var d,e=b[0].match(/^pk_test/),f=3===(d=a.version)?"v3":d;e&&f!==aO&&console.warn("Stripe.js@".concat(f," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(aO,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var g=a.apply(void 0,b);return aP(g,c),g},aS=!1,aT=function(){return b?b:b=(null!==aQ?aQ:(aQ=new Promise(function(a,b){a(null)})).catch(function(a){return aQ=null,Promise.reject(a)})).catch(function(a){return b=null,Promise.reject(a)})};Promise.resolve().then(function(){return aT()}).catch(function(a){aS||console.warn(a)});var aU=a.i(68655),aV=(0,aU.createServerReference)("400d274fe3ffead251219883ea41a5e76531030318",aU.callServer,void 0,aU.findSourceMapURL,"startCheckoutSession"),aW=a.i(86137);let aX=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];aS=!0;var d=Date.now();return aT().then(function(a){return aR(a,b,d)})}(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);function aY({flightId:a,seatNumber:b,seatClass:e,passengerName:f,passengerEmail:g,price:h}){let i=(0,aW.useRouter)(),j=(0,d.useCallback)(async()=>(await aV({flightId:a,seatNumber:b,seatClass:e,passengerName:f,passengerEmail:g,price:h})).clientSecret,[a,b,e,f,g,h]);return(0,c.jsx)("div",{id:"checkout",children:(0,c.jsx)(aM,{stripe:aX,options:{fetchClientSecret:j,onComplete:()=>{i.push("/booking-success")}},children:(0,c.jsx)(aN,{})})})}let aZ=(0,o.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),a$=(0,o.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),a_=(0,o.default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function a0({flight:a,selectedSeat:b,seatClass:f,price:g,onBack:h}){let[i,j]=(0,d.useState)(""),[k,l]=(0,d.useState)(""),[m,n]=(0,d.useState)(!1);return m?(0,c.jsxs)(e.Card,{children:[(0,c.jsx)(e.CardHeader,{children:(0,c.jsx)(e.CardTitle,{children:"Complete Payment"})}),(0,c.jsx)(e.CardContent,{children:(0,c.jsx)(aY,{flightId:a.id,seatNumber:b,seatClass:f,passengerName:i,passengerEmail:k,price:g})})]}):(0,c.jsxs)(e.Card,{children:[(0,c.jsx)(e.CardHeader,{children:(0,c.jsx)(e.CardTitle,{children:"Passenger Details"})}),(0,c.jsx)(e.CardContent,{children:(0,c.jsxs)("form",{onSubmit:a=>{a.preventDefault(),n(!0)},className:"space-y-6",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)(an.Label,{htmlFor:"name",className:"flex items-center gap-2",children:[(0,c.jsx)(aZ,{className:"h-4 w-4"}),"Full Name"]}),(0,c.jsx)(am.Input,{id:"name",type:"text",placeholder:"John Doe",value:i,onChange:a=>j(a.target.value),required:!0}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"As shown on passport or government ID"})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)(an.Label,{htmlFor:"email",className:"flex items-center gap-2",children:[(0,c.jsx)(a$,{className:"h-4 w-4"}),"Email Address"]}),(0,c.jsx)(am.Input,{id:"email",type:"email",placeholder:"john@example.com",value:k,onChange:a=>l(a.target.value),required:!0}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Booking confirmation will be sent to this email"})]})]}),(0,c.jsxs)("div",{className:"flex gap-4",children:[(0,c.jsxs)(r.Button,{type:"button",variant:"outline",onClick:h,className:"flex-1 bg-transparent",children:[(0,c.jsx)(a_,{className:"h-4 w-4 mr-2"}),"Back to Seat Selection"]}),(0,c.jsx)(r.Button,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:"Proceed to Payment"})]})]})})]})}var a1=a.i(42089);function a2({flight:a,seats:b,initialClass:e}){let[f,g]=(0,d.useState)(null),[h,i]=(0,d.useState)(e),[j,k]=(0,d.useState)("seat"),l="economy"===h?a.base_price_economy:a.base_price_business;return(0,c.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,c.jsx)(a1.default,{href:"/",children:(0,c.jsxs)(r.Button,{variant:"ghost",className:"mb-6",children:[(0,c.jsx)(a_,{className:"h-4 w-4 mr-2"}),"Back to Flights"]})}),(0,c.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,c.jsx)("div",{className:"lg:col-span-2",children:"seat"===j?(0,c.jsx)(al,{flight:a,seats:b,selectedSeat:f,onSeatSelect:g,seatClass:h,onClassChange:i,onContinue:()=>k("passenger")}):(0,c.jsx)(a0,{flight:a,selectedSeat:f,seatClass:h,price:l,onBack:()=>k("seat")})}),(0,c.jsx)("div",{className:"lg:col-span-1",children:(0,c.jsx)(q,{flight:a,selectedSeat:f,seatClass:h,price:l})})]})]})}a.s(["BookingFlow",()=>a2],63985)}];

//# sourceMappingURL=_3ba09fd9._.js.map